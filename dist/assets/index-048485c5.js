var n=Object.defineProperty,e=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,a=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(n,e)=>{for(var t in e||(e={}))o.call(e,t)&&a(n,t,e[t]);if(r)for(var t of r(e))u.call(e,t)&&a(n,t,e[t]);return n},c=(n,r)=>e(n,t(r)),i=(n,e)=>{var t={};for(var a in n)o.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(null!=n&&r)for(var a of r(n))e.indexOf(a)<0&&u.call(n,a)&&(t[a]=n[a]);return t};import{r as s,a as f,b as p}from"./vendor-b11f5658.js";import{a as d}from"./leaflet-src-5d8c493c.js";function y(n,e){const t=s.useRef(e);s.useEffect(function(){e!==t.current&&null!=n.attributionControl&&(null!=t.current&&n.attributionControl.removeAttribution(t.current),null!=e&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}function v(n,e,t){e.center!==t.center&&n.setLatLng(e.center),null!=e.radius&&e.radius!==t.radius&&n.setRadius(e.radius)}function m(n,e){return Object.freeze(l(l({},n),e))}const b=s.createContext(null),w=b.Provider;function h(){const n=s.useContext(b);if(null==n)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function g(n){function e(e,t){const{instance:r,context:o}=n(e).current;return s.useImperativeHandle(t,()=>r),null==e.children?null:f.createElement(w,{value:o},e.children)}return s.forwardRef(e)}function C(n){function e(e,t){const{instance:r}=n(e).current;return s.useImperativeHandle(t,()=>r),null}return s.forwardRef(e)}function O(n){return function(e){const t=h(),r=n(e,t),{instance:o}=r.current,u=s.useRef(e.position),{position:a}=e;return s.useEffect(function(){return o.addTo(t.map),function(){o.remove()}},[t.map,o]),s.useEffect(function(){null!=a&&a!==u.current&&(o.setPosition(a),u.current=a)},[o,a]),r}}function L(n,e){const t=s.useRef();s.useEffect(function(){return null!=e&&n.instance.on(e),t.current=e,function(){null!=t.current&&n.instance.off(t.current),t.current=null}},[n,e])}function E(n,e){var t;const r=null!=(t=n.pane)?t:e.pane;return r?c(l({},n),{pane:r}):n}function P(n,e){(function(n){return n.split(" ").filter(Boolean)})(e).forEach(e=>{d.DomUtil.addClass(n,e)})}function x(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function I(n,e){return null==e?function(e,t){const r=s.useRef();return r.current||(r.current=n(e,t)),r}:function(t,r){const o=s.useRef();o.current||(o.current=n(t,r));const u=s.useRef(t),{instance:a}=o.current;return s.useEffect(function(){u.current!==t&&(e(a,t,u.current),u.current=t)},[a,t,r]),o}}function R(n,e){s.useEffect(function(){var t;return(null!=(t=e.layerContainer)?t:e.map).addLayer(n.instance),function(){var t;null==(t=e.layerContainer)||t.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function j(n){return function(e){const t=h(),r=n(E(e,t),t);return y(t.map,e.attribution),L(r.current,e.eventHandlers),R(r.current,t),r}}function k(n){return function(e){const t=h(),r=n(E(e,t),t);return L(r.current,e.eventHandlers),R(r.current,t),function(n,e){const t=s.useRef();s.useEffect(function(){var r;if(e.pathOptions!==t.current){const o=null!=(r=e.pathOptions)?r:{};n.instance.setStyle(o),t.current=o}},[n,e])}(r.current,e),r}}function z(n){return C(O(I(function(e,t){return x(n(e),t)})))}function S(n,e){return g(j(I(n,e)))}function H(n,e){const t=function(n,e){return function(t,r){const o=h(),u=n(E(t,o),o);return y(o.map,t.attribution),L(u.current,t.eventHandlers),e(u.current,o,t,r),u}}(I(n),e);return function(n){function e(e,t){const[r,o]=s.useState(!1),{instance:u}=n(e,o).current;s.useImperativeHandle(t,()=>u),s.useEffect(function(){r&&u.update()},[u,r,e.children]);const a=u._contentNode;return a?p.createPortal(e.children,a):null}return s.forwardRef(e)}(t)}function B(n,e){return g(k(I(n,e)))}function N(n,e){return C(j(I(n,e)))}function _(n,e,t){const{opacity:r,zIndex:o}=e;null!=r&&r!==t.opacity&&n.setOpacity(r),null!=o&&o!==t.zIndex&&n.setZIndex(o)}function M(n,e,t){e.bounds instanceof d.LatLngBounds&&e.bounds!==t.bounds&&n.setBounds(e.bounds),null!=e.opacity&&e.opacity!==t.opacity&&n.setOpacity(e.opacity),null!=e.zIndex&&e.zIndex!==t.zIndex&&n.setZIndex(e.zIndex)}function A(){return h().map}function T(n,e){const t=A();return s.useEffect(function(){return t.on(n,e),function(){t.off(n,e)}},[t,n,e]),t}function G(n){const e=A();return s.useEffect(function(){return e.on(n),function(){e.off(n)}},[e,n]),e}const U=z(function(n){return new d.Control.Attribution(n)}),Z=B(function(n,e){var t=n,{center:r,children:o}=t,u=i(t,["center","children"]);const a=new d.Circle(r,u);return x(a,m(e,{overlayContainer:a}))},v),V=B(function(n,e){var t=n,{center:r,children:o}=t,u=i(t,["center","children"]);const a=new d.CircleMarker(r,u);return x(a,m(e,{overlayContainer:a}))},v),D=B(function(n,e){var t=n,{children:r}=t,o=i(t,["children"]);const u=new d.FeatureGroup([],o);return x(u,m(e,{layerContainer:u,overlayContainer:u}))}),$=B(function(n,e){var t=n,{data:r}=t,o=i(t,["data"]);const u=new d.GeoJSON(r,o);return x(u,m(e,{overlayContainer:u}))},function(n,e,t){e.style!==t.style&&(null==e.style?n.resetStyle():n.setStyle(e.style))}),q=S(function(n,e){var t=n,{bounds:r,url:o}=t,u=i(t,["bounds","url"]);const a=new d.ImageOverlay(o,r,u);return x(a,m(e,{overlayContainer:a}))},function(n,e,t){if(M(n,e,t),e.bounds!==t.bounds){const t=e.bounds instanceof d.LatLngBounds?e.bounds:new d.LatLngBounds(e.bounds);n.setBounds(t)}e.url!==t.url&&n.setUrl(e.url)}),F=S(function(n,e){var t=n,{children:r}=t,o=i(t,["children"]);const u=new d.LayerGroup([],o);return x(u,m(e,{layerContainer:u}))}),J=g(O(I(function(n,e){var t=n,{children:r}=t,o=i(t,["children"]);const u=new d.Control.Layers(void 0,void 0,o);return x(u,m(e,{layersControl:u}))},function(n,e,t){e.collapsed!==t.collapsed&&(!0===e.collapsed?n.collapse():n.expand())})));function W(n){return function(e){const t=h(),r=s.useRef(e),[o,u]=s.useState(null),{layersControl:a,map:l}=t,c=s.useCallback(e=>{null!=a&&(r.current.checked&&l.addLayer(e),n(a,e,r.current.name),u(e))},[a,l]),i=s.useCallback(n=>{null==a||a.removeLayer(n),u(null)},[a]),p=s.useMemo(()=>m(t,{layerContainer:{addLayer:c,removeLayer:i}}),[t,c,i]);return s.useEffect(()=>{null!==o&&r.current!==e&&(!0!==e.checked||null!=r.current.checked&&!1!==r.current.checked?!0!==r.current.checked||null!=e.checked&&!1!==e.checked||l.removeLayer(o):l.addLayer(o),r.current=e)}),e.children?f.createElement(w,{value:p},e.children):null}}function Y(){return Y=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Y.apply(this,arguments)}function K(n,e){var t=n,{bounds:r,boundsOptions:o,center:u,children:a,className:l,id:c,placeholder:p,style:y,whenReady:v,zoom:m}=t,b=i(t,["bounds","boundsOptions","center","children","className","id","placeholder","style","whenReady","zoom"]);const[h]=s.useState({className:l,id:c,style:y}),[g,C]=s.useState(null);s.useImperativeHandle(e,()=>{var n;return null!=(n=null==g?void 0:g.map)?n:null},[g]);const O=s.useCallback(n=>{if(null!==n&&null===g){const e=new d.Map(n,b);null!=u&&null!=m?e.setView(u,m):null!=r&&e.fitBounds(r,o),null!=v&&e.whenReady(v),C(function(n){return Object.freeze({__version:1,map:n})}(e))}},[]);s.useEffect(()=>()=>{null==g||g.map.remove()},[g]);const L=g?f.createElement(w,{value:g},a):null!=p?p:null;return f.createElement("div",Y({},h,{ref:O}),L)}J.BaseLayer=W(function(n,e,t){n.addBaseLayer(e,t)}),J.Overlay=W(function(n,e,t){n.addOverlay(e,t)});const Q=s.forwardRef(K),X=S(function(n,e){var t=n,{position:r}=t,o=i(t,["position"]);const u=new d.Marker(r,o);return x(u,m(e,{overlayContainer:u}))},function(n,e,t){e.position!==t.position&&n.setLatLng(e.position),null!=e.icon&&e.icon!==t.icon&&n.setIcon(e.icon),null!=e.zIndexOffset&&e.zIndexOffset!==t.zIndexOffset&&n.setZIndexOffset(e.zIndexOffset),null!=e.opacity&&e.opacity!==t.opacity&&n.setOpacity(e.opacity),null!=n.dragging&&e.draggable!==t.draggable&&(!0===e.draggable?n.dragging.enable():n.dragging.disable())}),nn=["mapPane","markerPane","overlayPane","popupPane","shadowPane","tilePane","tooltipPane"];function en(n,e){const t=n,{[e]:r}=t;var o;return i(t,[(o=e,"symbol"==typeof o?o:o+"")])}function tn(n,e){const[t]=s.useState(n.name),[r,o]=s.useState(null);s.useImperativeHandle(e,()=>r,[r]);const u=h(),a=s.useMemo(()=>c(l({},u),{pane:t}),[u]);return s.useEffect(()=>(o(function(n,e,t){var r;if(-1!==nn.indexOf(n))throw new Error(`You must use a unique name for a pane that is not a default Leaflet pane: ${n}`);if(null!=t.map.getPane(n))throw new Error(`A pane with this name already exists: ${n}`);const o=null!=(r=e.pane)?r:t.pane,u=o?t.map.getPane(o):void 0,a=t.map.createPane(n,u);return null!=e.className&&P(a,e.className),null!=e.style&&Object.keys(e.style).forEach(n=>{a.style[n]=e.style[n]}),a}(t,n,u)),function(){var n;const e=u.map.getPane(t);null==(n=null==e?void 0:e.remove)||n.call(e),null!=u.map._panes&&(u.map._panes=en(u.map._panes,t),u.map._paneRenderers=en(u.map._paneRenderers,t))}),[]),null!=n.children&&null!=r?p.createPortal(f.createElement(w,{value:a},n.children),r):null}const rn=s.forwardRef(tn),on=B(function(n,e){var t=n,{positions:r}=t,o=i(t,["positions"]);const u=new d.Polygon(r,o);return x(u,m(e,{overlayContainer:u}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),un=B(function(n,e){var t=n,{positions:r}=t,o=i(t,["positions"]);const u=new d.Polyline(r,o);return x(u,m(e,{overlayContainer:u}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),an=H(function(n,e){return x(new d.Popup(n,e.overlayContainer),e)},function(n,e,{position:t},r){s.useEffect(function(){const{instance:o}=n;function u(n){n.popup===o&&(o.update(),r(!0))}function a(n){n.popup===o&&r(!1)}return e.map.on({popupopen:u,popupclose:a}),null==e.overlayContainer?(null!=t&&o.setLatLng(t),o.openOn(e.map)):e.overlayContainer.bindPopup(o),function(){var n;e.map.off({popupopen:u,popupclose:a}),null==(n=e.overlayContainer)||n.unbindPopup(),e.map.removeLayer(o)}},[n,e,r,t])}),ln=B(function(n,e){var t=n,{bounds:r}=t,o=i(t,["bounds"]);const u=new d.Rectangle(r,o);return x(u,m(e,{overlayContainer:u}))},function(n,e,t){e.bounds!==t.bounds&&n.setBounds(e.bounds)}),cn=z(function(n){return new d.Control.Scale(n)}),sn=j(I(function(n,e){const t=n,{attributes:r,bounds:o}=t,u=i(t,["attributes","bounds"]),a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("xmlns","http://www.w3.org/2000/svg"),null!=r&&Object.keys(r).forEach(n=>{a.setAttribute(n,r[n])});return x(new d.SVGOverlay(a,o,u),e,a)},M));function fn(n,e){var t=n,{children:r}=t,o=i(t,["children"]);const{instance:u,container:a}=sn(o).current;return s.useImperativeHandle(e,()=>u),null==a||null==r?null:p.createPortal(r,a)}const pn=s.forwardRef(fn),dn=N(function(n,e){var t=n,{url:r}=t,o=i(t,["url"]);return x(new d.TileLayer(r,E(o,e)),e)},function(n,e,t){_(n,e,t);const{url:r}=e;null!=r&&r!==t.url&&n.setUrl(r)}),yn=H(function(n,e){return x(new d.Tooltip(n,e.overlayContainer),e)},function(n,e,{position:t},r){s.useEffect(function(){const o=e.overlayContainer;if(null==o)return;const{instance:u}=n,a=n=>{n.tooltip===u&&(null!=t&&u.setLatLng(t),u.update(),r(!0))},l=n=>{n.tooltip===u&&r(!1)};return o.on({tooltipopen:a,tooltipclose:l}),o.bindTooltip(u),function(){o.off({tooltipopen:a,tooltipclose:l}),null!=o._map&&o.unbindTooltip()}},[n,e,r,t])}),vn=S(function(n,e){var t,r=n,{bounds:o,url:u}=r,a=i(r,["bounds","url"]);const l=new d.VideoOverlay(u,o,a);return!0===a.play&&(null==(t=l.getElement())||t.play()),x(l,m(e,{overlayContainer:l}))},function(n,e,t){M(n,e,t),"string"==typeof e.url&&e.url!==t.url&&n.setUrl(e.url);const r=n.getElement();null!=r&&(!0!==e.play||t.play?e.play||!0!==t.play||r.pause():r.play())}),mn=N(function(n,e){var t=n,{eventHandlers:r,params:o={},url:u}=t,a=i(t,["eventHandlers","params","url"]);return x(new d.TileLayer.WMS(u,l(l({},o),E(a,e))),e)},function(n,e,t){_(n,e,t),null!=e.params&&e.params!==t.params&&n.setParams(e.params)}),bn=z(function(n){return new d.Control.Zoom(n)});export{U as AttributionControl,Z as Circle,V as CircleMarker,D as FeatureGroup,$ as GeoJSON,q as ImageOverlay,F as LayerGroup,J as LayersControl,Q as MapContainer,X as Marker,rn as Pane,on as Polygon,un as Polyline,an as Popup,ln as Rectangle,pn as SVGOverlay,cn as ScaleControl,dn as TileLayer,yn as Tooltip,vn as VideoOverlay,mn as WMSTileLayer,bn as ZoomControl,A as useMap,T as useMapEvent,G as useMapEvents};
